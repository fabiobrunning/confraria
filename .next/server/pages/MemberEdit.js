"use strict";(()=>{var e={};e.id=37,e.ids=[37,660],e.modules={2048:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.r(a),s.d(a,{config:()=>g,default:()=>p,getServerSideProps:()=>f,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>v,routeModule:()=>w,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>j});var r=s(7093),n=s(5244),i=s(1323),o=s(1682),d=s.n(o),l=s(8141),c=s.n(l),m=s(8932),u=e([m]);m=(u.then?(await u)():u)[0];let p=(0,i.l)(m,"default"),h=(0,i.l)(m,"getStaticProps"),x=(0,i.l)(m,"getStaticPaths"),f=(0,i.l)(m,"getServerSideProps"),g=(0,i.l)(m,"config"),v=(0,i.l)(m,"reportWebVitals"),j=(0,i.l)(m,"unstable_getStaticProps"),y=(0,i.l)(m,"unstable_getStaticPaths"),N=(0,i.l)(m,"unstable_getStaticParams"),b=(0,i.l)(m,"unstable_getServerProps"),_=(0,i.l)(m,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/MemberEdit",pathname:"/MemberEdit",bundlePath:"",filename:""},components:{App:c(),Document:d()},userland:m});t()}catch(e){t(e)}})},6964:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{OL:()=>v,_T:()=>p,aR:()=>c,f$:()=>f,fY:()=>h,le:()=>j,xo:()=>x,yT:()=>g});var r=s(997),n=s(6689),i=s(2131),o=s(1073),d=s(569),l=e([i,o,d]);[i,o,d]=l.then?(await l)():l;let c=i.Root;i.Trigger;let m=i.Portal,u=n.forwardRef(({className:e,...a},s)=>r.jsx(i.Overlay,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));u.displayName=i.Overlay.displayName;let p=n.forwardRef(({className:e,...a},s)=>(0,r.jsxs)(m,{children:[r.jsx(u,{}),r.jsx(i.Content,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));p.displayName=i.Content.displayName;let h=({className:e,...a})=>r.jsx("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});h.displayName="AlertDialogHeader";let x=({className:e,...a})=>r.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});x.displayName="AlertDialogFooter";let f=n.forwardRef(({className:e,...a},s)=>r.jsx(i.Title,{ref:s,className:(0,o.cn)("text-lg font-semibold",e),...a}));f.displayName=i.Title.displayName;let g=n.forwardRef(({className:e,...a},s)=>r.jsx(i.Description,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...a}));g.displayName=i.Description.displayName;let v=n.forwardRef(({className:e,...a},s)=>r.jsx(i.Action,{ref:s,className:(0,o.cn)((0,d.d)(),e),...a}));v.displayName=i.Action.displayName;let j=n.forwardRef(({className:e,...a},s)=>r.jsx(i.Cancel,{ref:s,className:(0,o.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));j.displayName=i.Cancel.displayName,t()}catch(e){t(e)}})},7981:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{C:()=>d});var r=s(997);s(6689);var n=s(6926),i=s(1073),o=e([n,i]);[n,i]=o.then?(await o)():o;let l=(0,n.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:a,...s}){return r.jsx("div",{className:(0,i.cn)(l({variant:a}),e),...s})}t()}catch(e){t(e)}})},569:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{d:()=>c,z:()=>m});var r=s(997),n=s(6689),i=s(4338),o=s(6926),d=s(1073),l=e([i,o,d]);[i,o,d]=l.then?(await l)():l;let c=(0,o.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=n.forwardRef(({className:e,variant:a,size:s,asChild:t=!1,...n},o)=>{let l=t?i.Slot:"button";return r.jsx(l,{className:(0,d.cn)(c({variant:a,size:s,className:e})),ref:o,...n})});m.displayName="Button",t()}catch(e){t(e)}})},1612:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Ol:()=>l,SZ:()=>m,Zb:()=>d,aY:()=>u,ll:()=>c});var r=s(997),n=s(6689),i=s(1073),o=e([i]);i=(o.then?(await o)():o)[0];let d=n.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));d.displayName="Card";let l=n.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let c=n.forwardRef(({className:e,...a},s)=>r.jsx("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle";let m=n.forwardRef(({className:e,...a},s)=>r.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));m.displayName="CardDescription";let u=n.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...a}));u.displayName="CardContent",n.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",t()}catch(e){t(e)}})},9322:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{I:()=>d});var r=s(997),n=s(6689),i=s(1073),o=e([i]);i=(o.then?(await o)():o)[0];let d=n.forwardRef(({className:e,type:a,...s},t)=>r.jsx("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));d.displayName="Input",t()}catch(e){t(e)}})},6889:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{_:()=>m});var r=s(997),n=s(6689),i=s(49),o=s(6926),d=s(1073),l=e([i,o,d]);[i,o,d]=l.then?(await l)():l;let c=(0,o.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=n.forwardRef(({className:e,...a},s)=>r.jsx(i.Root,{ref:s,className:(0,d.cn)(c(),e),...a}));m.displayName=i.Root.displayName,t()}catch(e){t(e)}})},9721:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Bw:()=>g,Ph:()=>u,Ql:()=>v,i4:()=>h,ki:()=>p});var r=s(997),n=s(6689),i=s(3567),o=s(9934),d=s(7493),l=s(906),c=s(1073),m=e([i,c]);[i,c]=m.then?(await m)():m;let u=i.Root;i.Group;let p=i.Value,h=n.forwardRef(({className:e,children:a,...s},t)=>(0,r.jsxs)(i.Trigger,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,r.jsx(i.Icon,{asChild:!0,children:r.jsx(o.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=i.Trigger.displayName;let x=n.forwardRef(({className:e,...a},s)=>r.jsx(i.ScrollUpButton,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:r.jsx(d.Z,{className:"h-4 w-4"})}));x.displayName=i.ScrollUpButton.displayName;let f=n.forwardRef(({className:e,...a},s)=>r.jsx(i.ScrollDownButton,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:r.jsx(o.Z,{className:"h-4 w-4"})}));f.displayName=i.ScrollDownButton.displayName;let g=n.forwardRef(({className:e,children:a,position:s="popper",...t},n)=>r.jsx(i.Portal,{children:(0,r.jsxs)(i.Content,{ref:n,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...t,children:[r.jsx(x,{}),r.jsx(i.Viewport,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),r.jsx(f,{})]})}));g.displayName=i.Content.displayName,n.forwardRef(({className:e,...a},s)=>r.jsx(i.Label,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=i.Label.displayName;let v=n.forwardRef(({className:e,children:a,...s},t)=>(0,r.jsxs)(i.Item,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(i.ItemIndicator,{children:r.jsx(l.Z,{className:"h-4 w-4"})})}),r.jsx(i.ItemText,{children:a})]}));v.displayName=i.Item.displayName,n.forwardRef(({className:e,...a},s)=>r.jsx(i.Separator,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=i.Separator.displayName,t()}catch(e){t(e)}})},788:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{g:()=>d});var r=s(997),n=s(6689),i=s(1073),o=e([i]);i=(o.then?(await o)():o)[0];let d=n.forwardRef(({className:e,...a},s)=>r.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));d.displayName="Textarea",t()}catch(e){t(e)}})},1092:(e,a,s)=>{s.d(a,{A:()=>o});var t=s(6689),r=s(9332);let n=require("@supabase/ssr");(0,n.createBrowserClient)("https://iztvzodfhuqaarsioptb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6dHZ6b2RmaHVxYWFyc2lvcHRiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0MjMxOTksImV4cCI6MjA3NDk5OTE5OX0.98kklKnvZtx4fGbwHean6QPwOLKr0LnGi46c9XcqodA");var i=s(2697);function o(e=!1,a=!1){let[s,o]=(0,t.useState)(!1),[d,l]=(0,t.useState)(!0);(0,r.useRouter)();let{toast:c}=(0,i.pm)();return(0,n.createBrowserClient)("https://iztvzodfhuqaarsioptb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6dHZ6b2RmaHVxYWFyc2lvcHRiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0MjMxOTksImV4cCI6MjA3NDk5OTE5OX0.98kklKnvZtx4fGbwHean6QPwOLKr0LnGi46c9XcqodA"),{isAdmin:s,loading:d}}},2697:(e,a,s)=>{s.d(a,{pm:()=>u});var t=s(6689);let r=0,n=new Map,i=e=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)},o=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},d=[],l={toasts:[]};function c(e){l=o(l,e),d.forEach(e=>{e(l)})}function m({...e}){let a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,a]=t.useState(l);return t.useEffect(()=>(d.push(a),()=>{let e=d.indexOf(a);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},1073:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{cn:()=>o});var r=s(6593),n=s(8097),i=e([r,n]);function o(...e){return(0,n.twMerge)((0,r.clsx)(e))}[r,n]=i.then?(await i)():i,t()}catch(e){t(e)}})},906:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9934:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7493:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},1928:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},6460:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3487:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1560:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8932:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.r(a),s.d(a,{default:()=>N});var r=s(997),n=s(6689);(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}();var i=s(1612),o=s(9322),d=s(6889),l=s(569),c=s(788),m=s(2697),u=s(1092),p=s(3487),h=s(6460),x=s(1560),f=s(1928);(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}();var g=s(6964),v=s(7981),j=s(9721),y=e([i,o,d,l,c,g,v,j]);function N(){let[e,a]=(0,n.useState)(!0),[s,t]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[b,_]=(0,n.useState)(!1),[w,O]=(0,n.useState)(""),{id:E}=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())(),C=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())(),{toast:S}=(0,m.pm)(),{loading:T,isAdmin:I}=(0,u.A)(!0),D=e=>{let a=e.replace(/\D/g,"");return`https://wa.me/55${a}`},[k,A]=(0,n.useState)({full_name:"",phone:"",instagram:"",role:"member",address_cep:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:""}),[U,M]=(0,n.useState)([]),[L,R]=(0,n.useState)([]),P=async(e,a,s)=>{try{let t=await Object(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e}())(e);if(a&&void 0!==s){let e=[...U];e[s]={...e[s],address_street:t.street,address_neighborhood:t.neighborhood,address_city:t.city,address_state:t.state},M(e)}else A({...k,address_street:t.street,address_neighborhood:t.neighborhood,address_city:t.city,address_state:t.state});S({title:"Endere\xe7o encontrado",description:"Os campos foram preenchidos automaticamente"})}catch(e){S({title:"Erro ao buscar CEP",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}},z=async(e,a)=>{try{let s=await Object(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e}())(e),t=[...U];t[a]={...t[a],name:s.name,address_cep:s.cep.replace(/\D/g,""),address_street:s.street,address_number:s.number,address_complement:s.complement,address_neighborhood:s.neighborhood,address_city:s.city,address_state:s.state},M(t),S({title:"Dados encontrados",description:"Os campos foram preenchidos automaticamente"})}catch(e){S({title:"Erro ao buscar CNPJ",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}},Z=async e=>{let a=U[e];a.id&&await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("member_companies").delete().eq("member_id",E).eq("company_id",a.id),M(U.filter((a,s)=>s!==e))},F=async()=>{t(!0);try{let{error:e}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("profiles").update(k).eq("id",E);if(e)throw e;for(let e of U)if(e.id)await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").update(e).eq("id",e.id);else{let{data:a,error:s}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").insert({name:e.name,cnpj:e.cnpj||null,description:e.description||null,phone:e.phone||null,instagram:e.instagram||null,address_cep:e.address_cep||null,address_street:e.address_street||null,address_number:e.address_number||null,address_complement:e.address_complement||null,address_neighborhood:e.address_neighborhood||null,address_city:e.address_city||null,address_state:e.address_state||null}).select().single();if(s)throw s;await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("member_companies").insert({member_id:E,company_id:a.id})}S({title:"Membro atualizado",description:"As informa\xe7\xf5es foram salvas com sucesso"}),C("/members")}catch(e){S({title:"Erro ao salvar",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{t(!1)}},B=async()=>{if(!w||w.length<6){S({title:"Senha inv\xe1lida",description:"A senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}try{let{data:{session:e}}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession();if(!e){S({title:"Sess\xe3o expirada",description:"Por favor, fa\xe7a login novamente",variant:"destructive"}),C("/auth");return}let a=(void 0).VITE_BOLT_DATABASE_URL||(void 0).VITE_SUPABASE_URL,s=(void 0).VITE_BOLT_DATABASE_ANON_KEY||(void 0).VITE_SUPABASE_ANON_KEY,t=await fetch(`${a}/functions/v1/update-user-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`,apikey:s},body:JSON.stringify({userId:E,newPassword:w})}),r=await t.json();if(!t.ok||r.error)throw Error(r.error||"Erro ao alterar senha");S({title:"Senha alterada",description:"A senha foi alterada com sucesso"}),_(!1),O("")}catch(e){Object(function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}())(e,"MemberEdit - handlePasswordChange"),S({title:"Erro ao alterar senha",description:e instanceof Error?e.message:"Erro desconhecido. Verifique se as Edge Functions est\xe3o implantadas.",variant:"destructive"})}},V=async()=>{try{let{data:{session:e}}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession();if(!e){S({title:"Sess\xe3o expirada",description:"Por favor, fa\xe7a login novamente",variant:"destructive"}),C("/auth");return}let a=(void 0).VITE_BOLT_DATABASE_URL||(void 0).VITE_SUPABASE_URL,s=(void 0).VITE_BOLT_DATABASE_ANON_KEY||(void 0).VITE_SUPABASE_ANON_KEY,t=await fetch(`${a}/functions/v1/reset-user-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`,apikey:s},body:JSON.stringify({userId:E})}),r=await t.json();if(!t.ok||r.error)throw Error(r.error||"Erro ao resetar senha");if(r?.newPassword)S({title:"Senha resetada",description:`Nova senha gerada: ${r.newPassword}`}),_(!1),O("");else throw Error("Erro ao gerar nova senha")}catch(e){Object(function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}())(e,"MemberEdit - handlePasswordReset"),S({title:"Erro ao resetar senha",description:e instanceof Error?e.message:"Erro desconhecido. Verifique se as Edge Functions est\xe3o implantadas.",variant:"destructive"})}},q=async()=>{try{let{data:e,error:a}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).functions.invoke("delete-user",{body:{userId:E}});if(a)throw a;if(!e.success)throw Error(e.error);S({title:"Conta exclu\xedda",description:"A conta foi exclu\xedda com sucesso"}),C("/members")}catch(e){S({title:"Erro ao excluir conta",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}};return e?r.jsx(Object(function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:r.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):r.jsx(Object(function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Editar Membro"}),r.jsx("p",{className:"text-muted-foreground",children:"Gerencie as informa\xe7\xf5es do membro"})]}),(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Informa\xe7\xf5es Pessoais"})}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Nome Completo"}),r.jsx(o.I,{value:k.full_name,onChange:e=>A({...k,full_name:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Telefone"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(o.I,{type:"tel",placeholder:"(00) 00000-0000",value:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(k.phone),onChange:e=>A({...k,phone:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.target.value)}),maxLength:15}),k.phone&&r.jsx(l.z,{type:"button",variant:"outline",size:"icon",onClick:()=>window.open(D(k.phone),"_blank","noopener,noreferrer"),title:"Abrir no WhatsApp",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600",children:r.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Instagram"}),r.jsx(o.I,{placeholder:"@usuario",value:k.instagram||"",onChange:e=>A({...k,instagram:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"N\xedvel de Acesso"}),(0,r.jsxs)(j.Ph,{value:k.role,onValueChange:e=>A({...k,role:e}),children:[r.jsx(j.i4,{children:r.jsx(j.ki,{})}),(0,r.jsxs)(j.Bw,{children:[r.jsx(j.Ql,{value:"member",children:"Membro"}),r.jsx(j.Ql,{value:"admin",children:"Administrador"})]})]})]})]}),r.jsx("div",{className:"pt-4",children:r.jsx(l.z,{variant:"outline",onClick:()=>_(!0),children:"Alterar Senha"})})]})]}),(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Endere\xe7o"})}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[r.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"CEP"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(o.I,{value:k.address_cep||"",onChange:e=>A({...k,address_cep:e.target.value})}),r.jsx(l.z,{variant:"outline",size:"icon",onClick:()=>P(k.address_cep,!1),disabled:!k.address_cep,children:r.jsx(p.Z,{className:"h-4 w-4"})})]})]})}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"sm:col-span-2 space-y-2",children:[r.jsx(d._,{children:"Rua"}),r.jsx(o.I,{value:k.address_street||"",onChange:e=>A({...k,address_street:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"N\xfamero"}),r.jsx(o.I,{value:k.address_number||"",onChange:e=>A({...k,address_number:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Complemento"}),r.jsx(o.I,{value:k.address_complement||"",onChange:e=>A({...k,address_complement:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Bairro"}),r.jsx(o.I,{value:k.address_neighborhood||"",onChange:e=>A({...k,address_neighborhood:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Cidade"}),r.jsx(o.I,{value:k.address_city||"",onChange:e=>A({...k,address_city:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Estado"}),r.jsx(o.I,{maxLength:2,value:k.address_state||"",onChange:e=>A({...k,address_state:e.target.value.toUpperCase()})})]})]})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Grupos e Cotas"}),r.jsx(i.SZ,{children:"Cotas de cons\xf3rcio vinculadas a este membro"})]}),r.jsx(i.aY,{children:0===L.length?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:"Nenhuma cota vinculada a este membro"})}):r.jsx("div",{className:"space-y-3",children:L.map(e=>(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:e.group.name}),(0,r.jsxs)(v.C,{variant:"outline",children:["Cota #",e.quota_number]})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,r.jsxs)("p",{children:["Valor do Bem: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.group.asset_value)]}),(0,r.jsxs)("p",{children:["Valor Mensal: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.group.monthly_value)]})]})]}),r.jsx(v.C,{variant:"active"===e.status?"default":"secondary",className:"w-fit",children:"active"===e.status?"Ativa":"Contemplada"})]},e.id))})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx(i.ll,{children:"Empresas"}),(0,r.jsxs)(l.z,{onClick:()=>{M([...U,{name:"",cnpj:"",description:"",phone:"",instagram:"",address_cep:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:""}])},size:"sm",children:[r.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Adicionar Empresa"]})]}),r.jsx(i.SZ,{children:"Empresas vinculadas a este membro"})]}),r.jsx(i.aY,{className:"space-y-6",children:0===U.length?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:"Nenhuma empresa cadastrada"})}):U.map((e,a)=>(0,r.jsxs)(i.Zb,{className:"border-2",children:[r.jsx(i.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)(i.ll,{className:"text-lg",children:["Empresa ",a+1]}),r.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>Z(a),children:r.jsx(x.Z,{className:"h-4 w-4"})})]})}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"CNPJ"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(o.I,{value:e.cnpj,onChange:e=>{let s=[...U];s[a].cnpj=e.target.value,M(s)}}),r.jsx(l.z,{variant:"outline",size:"icon",onClick:()=>z(e.cnpj,a),disabled:!e.cnpj,children:r.jsx(p.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Nome *"}),r.jsx(o.I,{value:e.name,onChange:e=>{let s=[...U];s[a].name=e.target.value,M(s)},required:!0})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Descri\xe7\xe3o"}),r.jsx(c.g,{value:e.description,onChange:e=>{let s=[...U];s[a].description=e.target.value,M(s)}})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Telefone"}),r.jsx(o.I,{type:"tel",placeholder:"(00) 00000-0000",value:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.phone),onChange:e=>{let s=[...U];s[a].phone=Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.target.value),M(s)},maxLength:15})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Instagram"}),r.jsx(o.I,{placeholder:"@empresa",value:e.instagram,onChange:e=>{let s=[...U];s[a].instagram=e.target.value,M(s)}})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"CEP"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(o.I,{value:e.address_cep,onChange:e=>{let s=[...U];s[a].address_cep=e.target.value,M(s)}}),r.jsx(l.z,{variant:"outline",size:"icon",onClick:()=>P(e.address_cep,!0,a),disabled:!e.address_cep,children:r.jsx(p.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"sm:col-span-2 space-y-2",children:[r.jsx(d._,{children:"Rua"}),r.jsx(o.I,{value:e.address_street,onChange:e=>{let s=[...U];s[a].address_street=e.target.value,M(s)}})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"N\xfamero"}),r.jsx(o.I,{value:e.address_number,onChange:e=>{let s=[...U];s[a].address_number=e.target.value,M(s)}})]}),(0,r.jsxs)("div",{className:"sm:col-span-2 space-y-2",children:[r.jsx(d._,{children:"Complemento"}),r.jsx(o.I,{value:e.address_complement,onChange:e=>{let s=[...U];s[a].address_complement=e.target.value,M(s)}})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Bairro"}),r.jsx(o.I,{value:e.address_neighborhood,onChange:e=>{let s=[...U];s[a].address_neighborhood=e.target.value,M(s)}})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Cidade"}),r.jsx(o.I,{value:e.address_city,onChange:e=>{let s=[...U];s[a].address_city=e.target.value,M(s)}})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{children:"Estado"}),r.jsx(o.I,{maxLength:2,value:e.address_state,onChange:e=>{let s=[...U];s[a].address_state=e.target.value.toUpperCase(),M(s)}})]})]})]})]},a))})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx(l.z,{variant:"outline",onClick:()=>C("/members"),className:"flex-1",children:"Cancelar"}),I&&r.jsx(l.z,{variant:"destructive",onClick:()=>N(!0),className:"flex-1",children:"Excluir Conta"}),(0,r.jsxs)(l.z,{onClick:F,disabled:s,className:"flex-1",children:[s&&r.jsx(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Altera\xe7\xf5es"]})]}),r.jsx(g.aR,{open:y,onOpenChange:N,children:(0,r.jsxs)(g._T,{children:[(0,r.jsxs)(g.fY,{children:[r.jsx(g.f$,{children:"Confirmar Exclus\xe3o"}),r.jsx(g.yT,{children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita. A conta do membro ser\xe1 permanentemente exclu\xedda."})]}),(0,r.jsxs)(g.xo,{children:[r.jsx(g.le,{children:"Cancelar"}),r.jsx(g.OL,{onClick:q,children:"Confirmar Exclus\xe3o"})]})]})}),r.jsx(g.aR,{open:b,onOpenChange:_,children:(0,r.jsxs)(g._T,{children:[(0,r.jsxs)(g.fY,{children:[r.jsx(g.f$,{children:"Alterar Senha"}),r.jsx(g.yT,{children:"Temporariamente, ambos os bot\xf5es ir\xe3o gerar uma senha autom\xe1tica de 6 d\xedgitos. A funcionalidade de senha personalizada ser\xe1 habilitada em breve."})]}),r.jsx("div",{className:"grid gap-4 py-4",children:(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"password",children:"Nova Senha"}),r.jsx(o.I,{id:"password",type:"password",value:w,onChange:e=>O(e.target.value),placeholder:"Digite a nova senha (m\xednimo 6 caracteres)"})]})}),(0,r.jsxs)(g.xo,{className:"gap-2",children:[r.jsx(g.le,{children:"Cancelar"}),r.jsx(l.z,{variant:"outline",onClick:V,children:"Resetar (Gerar Autom\xe1tica)"}),r.jsx(g.OL,{onClick:B,children:"Salvar Senha"})]})]})})]})})}[i,o,d,l,c,g,v,j]=y.then?(await y)():y,t()}catch(e){t(e)}})},2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},2131:e=>{e.exports=import("@radix-ui/react-alert-dialog")},49:e=>{e.exports=import("@radix-ui/react-label")},3567:e=>{e.exports=import("@radix-ui/react-select")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},8097:e=>{e.exports=import("tailwind-merge")}};var a=require("../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[682,577],()=>s(2048));module.exports=t})();