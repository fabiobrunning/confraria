"use strict";(()=>{var e={};e.id=37,e.ids=[37,660],e.modules={2048:(e,a,s)=>{s.a(e,async(e,r)=>{try{s.r(a),s.d(a,{config:()=>j,default:()=>u,getServerSideProps:()=>v,getStaticPaths:()=>x,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>O,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>_,unstable_getStaticProps:()=>f});var t=s(7093),n=s(5244),i=s(1323),o=s(1682),d=s.n(o),l=s(8141),c=s.n(l),m=s(8932),h=e([m]);m=(h.then?(await h)():h)[0];let u=(0,i.l)(m,"default"),p=(0,i.l)(m,"getStaticProps"),x=(0,i.l)(m,"getStaticPaths"),v=(0,i.l)(m,"getServerSideProps"),j=(0,i.l)(m,"config"),g=(0,i.l)(m,"reportWebVitals"),f=(0,i.l)(m,"unstable_getStaticProps"),_=(0,i.l)(m,"unstable_getStaticPaths"),N=(0,i.l)(m,"unstable_getStaticParams"),b=(0,i.l)(m,"unstable_getServerProps"),y=(0,i.l)(m,"unstable_getServerSideProps"),O=new t.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/MemberEdit",pathname:"/MemberEdit",bundlePath:"",filename:""},components:{App:c(),Document:d()},userland:m});r()}catch(e){r(e)}})},6964:(e,a,s)=>{s.a(e,async(e,r)=>{try{s.d(a,{OL:()=>g,_T:()=>u,aR:()=>c,f$:()=>v,fY:()=>p,le:()=>f,xo:()=>x,yT:()=>j});var t=s(997),n=s(6689),i=s(2131),o=s(1073),d=s(569),l=e([i,o,d]);[i,o,d]=l.then?(await l)():l;let c=i.Root;i.Trigger;let m=i.Portal,h=n.forwardRef(({className:e,...a},s)=>t.jsx(i.Overlay,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));h.displayName=i.Overlay.displayName;let u=n.forwardRef(({className:e,...a},s)=>(0,t.jsxs)(m,{children:[t.jsx(h,{}),t.jsx(i.Content,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));u.displayName=i.Content.displayName;let p=({className:e,...a})=>t.jsx("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});p.displayName="AlertDialogHeader";let x=({className:e,...a})=>t.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});x.displayName="AlertDialogFooter";let v=n.forwardRef(({className:e,...a},s)=>t.jsx(i.Title,{ref:s,className:(0,o.cn)("text-lg font-semibold",e),...a}));v.displayName=i.Title.displayName;let j=n.forwardRef(({className:e,...a},s)=>t.jsx(i.Description,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...a}));j.displayName=i.Description.displayName;let g=n.forwardRef(({className:e,...a},s)=>t.jsx(i.Action,{ref:s,className:(0,o.cn)((0,d.d)(),e),...a}));g.displayName=i.Action.displayName;let f=n.forwardRef(({className:e,...a},s)=>t.jsx(i.Cancel,{ref:s,className:(0,o.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));f.displayName=i.Cancel.displayName,r()}catch(e){r(e)}})},788:(e,a,s)=>{s.a(e,async(e,r)=>{try{s.d(a,{g:()=>d});var t=s(997),n=s(6689),i=s(1073),o=e([i]);i=(o.then?(await o)():o)[0];let d=n.forwardRef(({className:e,...a},s)=>t.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));d.displayName="Textarea",r()}catch(e){r(e)}})},6516:(e,a,s)=>{s.d(a,{A:()=>n});var r=s(6689);(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}();var t=s(2697);function n(e=!1,a=!1){let[s,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!0);Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())();let{toast:d}=(0,t.pm)();return{isAdmin:s,loading:i}}},6460:(e,a,s)=>{s.d(a,{Z:()=>r});let r=(0,s(3592).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3487:(e,a,s)=>{s.d(a,{Z:()=>r});let r=(0,s(3592).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1560:(e,a,s)=>{s.d(a,{Z:()=>r});let r=(0,s(3592).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8932:(e,a,s)=>{s.a(e,async(e,r)=>{try{s.r(a),s.d(a,{default:()=>N});var t=s(997),n=s(6689);(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}();var i=s(1612),o=s(9322),d=s(6889),l=s(569),c=s(788),m=s(2697),h=s(6516),u=s(3487),p=s(6460),x=s(1560),v=s(1928);(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}();var j=s(6964),g=s(7981),f=s(9721),_=e([i,o,d,l,c,j,g,f]);function N(){let[e,a]=(0,n.useState)(!0),[s,r]=(0,n.useState)(!1),[_,N]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[O,E]=(0,n.useState)(""),{id:w}=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())(),C=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())(),{toast:D}=(0,m.pm)(),{loading:U,isAdmin:S}=(0,h.A)(!0),T=e=>{let a=e.replace(/\D/g,"");return`https://wa.me/55${a}`},[A,L]=(0,n.useState)({full_name:"",phone:"",instagram:"",role:"member",address_cep:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:""}),[M,k]=(0,n.useState)([]),[P,I]=(0,n.useState)([]),F=async(e,a,s)=>{try{let r=await Object(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e}())(e);if(a&&void 0!==s){let e=[...M];e[s]={...e[s],address_street:r.street,address_neighborhood:r.neighborhood,address_city:r.city,address_state:r.state},k(e)}else L({...A,address_street:r.street,address_neighborhood:r.neighborhood,address_city:r.city,address_state:r.state});D({title:"Endere\xe7o encontrado",description:"Os campos foram preenchidos automaticamente"})}catch(e){D({title:"Erro ao buscar CEP",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}},z=async(e,a)=>{try{let s=await Object(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e}())(e),r=[...M];r[a]={...r[a],name:s.name,address_cep:s.cep.replace(/\D/g,""),address_street:s.street,address_number:s.number,address_complement:s.complement,address_neighborhood:s.neighborhood,address_city:s.city,address_state:s.state},k(r),D({title:"Dados encontrados",description:"Os campos foram preenchidos automaticamente"})}catch(e){D({title:"Erro ao buscar CNPJ",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}},R=async e=>{let a=M[e];a.id&&await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("member_companies").delete().eq("member_id",w).eq("company_id",a.id),k(M.filter((a,s)=>s!==e))},B=async()=>{r(!0);try{let{error:e}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("profiles").update(A).eq("id",w);if(e)throw e;for(let e of M)if(e.id)await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").update(e).eq("id",e.id);else{let{data:a,error:s}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").insert({name:e.name,cnpj:e.cnpj||null,description:e.description||null,phone:e.phone||null,instagram:e.instagram||null,address_cep:e.address_cep||null,address_street:e.address_street||null,address_number:e.address_number||null,address_complement:e.address_complement||null,address_neighborhood:e.address_neighborhood||null,address_city:e.address_city||null,address_state:e.address_state||null}).select().single();if(s)throw s;await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("member_companies").insert({member_id:w,company_id:a.id})}D({title:"Membro atualizado",description:"As informa\xe7\xf5es foram salvas com sucesso"}),C("/members")}catch(e){D({title:"Erro ao salvar",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{r(!1)}},Z=async()=>{if(!O||O.length<6){D({title:"Senha inv\xe1lida",description:"A senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}try{let{data:{session:e}}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession();if(!e){D({title:"Sess\xe3o expirada",description:"Por favor, fa\xe7a login novamente",variant:"destructive"}),C("/auth");return}let a=(void 0).VITE_BOLT_DATABASE_URL||(void 0).VITE_SUPABASE_URL,s=(void 0).VITE_BOLT_DATABASE_ANON_KEY||(void 0).VITE_SUPABASE_ANON_KEY,r=await fetch(`${a}/functions/v1/update-user-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`,apikey:s},body:JSON.stringify({userId:w,newPassword:O})}),t=await r.json();if(!r.ok||t.error)throw Error(t.error||"Erro ao alterar senha");D({title:"Senha alterada",description:"A senha foi alterada com sucesso"}),y(!1),E("")}catch(e){Object(function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}())(e,"MemberEdit - handlePasswordChange"),D({title:"Erro ao alterar senha",description:e instanceof Error?e.message:"Erro desconhecido. Verifique se as Edge Functions est\xe3o implantadas.",variant:"destructive"})}},V=async()=>{try{let{data:{session:e}}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession();if(!e){D({title:"Sess\xe3o expirada",description:"Por favor, fa\xe7a login novamente",variant:"destructive"}),C("/auth");return}let a=(void 0).VITE_BOLT_DATABASE_URL||(void 0).VITE_SUPABASE_URL,s=(void 0).VITE_BOLT_DATABASE_ANON_KEY||(void 0).VITE_SUPABASE_ANON_KEY,r=await fetch(`${a}/functions/v1/reset-user-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`,apikey:s},body:JSON.stringify({userId:w})}),t=await r.json();if(!r.ok||t.error)throw Error(t.error||"Erro ao resetar senha");if(t?.newPassword)D({title:"Senha resetada",description:`Nova senha gerada: ${t.newPassword}`}),y(!1),E("");else throw Error("Erro ao gerar nova senha")}catch(e){Object(function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}())(e,"MemberEdit - handlePasswordReset"),D({title:"Erro ao resetar senha",description:e instanceof Error?e.message:"Erro desconhecido. Verifique se as Edge Functions est\xe3o implantadas.",variant:"destructive"})}},q=async()=>{try{let{data:e,error:a}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).functions.invoke("delete-user",{body:{userId:w}});if(a)throw a;if(!e.success)throw Error(e.error);D({title:"Conta exclu\xedda",description:"A conta foi exclu\xedda com sucesso"}),C("/members")}catch(e){D({title:"Erro ao excluir conta",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}};return e?t.jsx(Object(function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:t.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):t.jsx(Object(function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,t.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Editar Membro"}),t.jsx("p",{className:"text-muted-foreground",children:"Gerencie as informa\xe7\xf5es do membro"})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{children:"Informa\xe7\xf5es Pessoais"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Nome Completo"}),t.jsx(o.I,{value:A.full_name,onChange:e=>L({...A,full_name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Telefone"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(o.I,{type:"tel",placeholder:"(00) 00000-0000",value:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(A.phone),onChange:e=>L({...A,phone:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.target.value)}),maxLength:15}),A.phone&&t.jsx(l.z,{type:"button",variant:"outline",size:"icon",onClick:()=>window.open(T(A.phone),"_blank","noopener,noreferrer"),title:"Abrir no WhatsApp",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Instagram"}),t.jsx(o.I,{placeholder:"@usuario",value:A.instagram||"",onChange:e=>L({...A,instagram:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"N\xedvel de Acesso"}),(0,t.jsxs)(f.Ph,{value:A.role,onValueChange:e=>L({...A,role:e}),children:[t.jsx(f.i4,{children:t.jsx(f.ki,{})}),(0,t.jsxs)(f.Bw,{children:[t.jsx(f.Ql,{value:"member",children:"Membro"}),t.jsx(f.Ql,{value:"admin",children:"Administrador"})]})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(l.z,{variant:"outline",onClick:()=>y(!0),children:"Alterar Senha"})})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{children:"Endere\xe7o"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[t.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"CEP"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(o.I,{value:A.address_cep||"",onChange:e=>L({...A,address_cep:e.target.value})}),t.jsx(l.z,{variant:"outline",size:"icon",onClick:()=>F(A.address_cep,!1),disabled:!A.address_cep,children:t.jsx(u.Z,{className:"h-4 w-4"})})]})]})}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"sm:col-span-2 space-y-2",children:[t.jsx(d._,{children:"Rua"}),t.jsx(o.I,{value:A.address_street||"",onChange:e=>L({...A,address_street:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"N\xfamero"}),t.jsx(o.I,{value:A.address_number||"",onChange:e=>L({...A,address_number:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Complemento"}),t.jsx(o.I,{value:A.address_complement||"",onChange:e=>L({...A,address_complement:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Bairro"}),t.jsx(o.I,{value:A.address_neighborhood||"",onChange:e=>L({...A,address_neighborhood:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Cidade"}),t.jsx(o.I,{value:A.address_city||"",onChange:e=>L({...A,address_city:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Estado"}),t.jsx(o.I,{maxLength:2,value:A.address_state||"",onChange:e=>L({...A,address_state:e.target.value.toUpperCase()})})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Grupos e Cotas"}),t.jsx(i.SZ,{children:"Cotas de cons\xf3rcio vinculadas a este membro"})]}),t.jsx(i.aY,{children:0===P.length?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t.jsx("p",{children:"Nenhuma cota vinculada a este membro"})}):t.jsx("div",{className:"space-y-3",children:P.map(e=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:e.group.name}),(0,t.jsxs)(g.C,{variant:"outline",children:["Cota #",e.quota_number]})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsxs)("p",{children:["Valor do Bem: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.group.asset_value)]}),(0,t.jsxs)("p",{children:["Valor Mensal: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.group.monthly_value)]})]})]}),t.jsx(g.C,{variant:"active"===e.status?"default":"secondary",className:"w-fit",children:"active"===e.status?"Ativa":"Contemplada"})]},e.id))})})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx(i.ll,{children:"Empresas"}),(0,t.jsxs)(l.z,{onClick:()=>{k([...M,{name:"",cnpj:"",description:"",phone:"",instagram:"",address_cep:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:""}])},size:"sm",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Adicionar Empresa"]})]}),t.jsx(i.SZ,{children:"Empresas vinculadas a este membro"})]}),t.jsx(i.aY,{className:"space-y-6",children:0===M.length?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t.jsx("p",{children:"Nenhuma empresa cadastrada"})}):M.map((e,a)=>(0,t.jsxs)(i.Zb,{className:"border-2",children:[t.jsx(i.Ol,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)(i.ll,{className:"text-lg",children:["Empresa ",a+1]}),t.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>R(a),children:t.jsx(x.Z,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"CNPJ"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(o.I,{value:e.cnpj,onChange:e=>{let s=[...M];s[a].cnpj=e.target.value,k(s)}}),t.jsx(l.z,{variant:"outline",size:"icon",onClick:()=>z(e.cnpj,a),disabled:!e.cnpj,children:t.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Nome *"}),t.jsx(o.I,{value:e.name,onChange:e=>{let s=[...M];s[a].name=e.target.value,k(s)},required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Descri\xe7\xe3o"}),t.jsx(c.g,{value:e.description,onChange:e=>{let s=[...M];s[a].description=e.target.value,k(s)}})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Telefone"}),t.jsx(o.I,{type:"tel",placeholder:"(00) 00000-0000",value:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.phone),onChange:e=>{let s=[...M];s[a].phone=Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.target.value),k(s)},maxLength:15})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Instagram"}),t.jsx(o.I,{placeholder:"@empresa",value:e.instagram,onChange:e=>{let s=[...M];s[a].instagram=e.target.value,k(s)}})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"CEP"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(o.I,{value:e.address_cep,onChange:e=>{let s=[...M];s[a].address_cep=e.target.value,k(s)}}),t.jsx(l.z,{variant:"outline",size:"icon",onClick:()=>F(e.address_cep,!0,a),disabled:!e.address_cep,children:t.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"sm:col-span-2 space-y-2",children:[t.jsx(d._,{children:"Rua"}),t.jsx(o.I,{value:e.address_street,onChange:e=>{let s=[...M];s[a].address_street=e.target.value,k(s)}})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"N\xfamero"}),t.jsx(o.I,{value:e.address_number,onChange:e=>{let s=[...M];s[a].address_number=e.target.value,k(s)}})]}),(0,t.jsxs)("div",{className:"sm:col-span-2 space-y-2",children:[t.jsx(d._,{children:"Complemento"}),t.jsx(o.I,{value:e.address_complement,onChange:e=>{let s=[...M];s[a].address_complement=e.target.value,k(s)}})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Bairro"}),t.jsx(o.I,{value:e.address_neighborhood,onChange:e=>{let s=[...M];s[a].address_neighborhood=e.target.value,k(s)}})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Cidade"}),t.jsx(o.I,{value:e.address_city,onChange:e=>{let s=[...M];s[a].address_city=e.target.value,k(s)}})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Estado"}),t.jsx(o.I,{maxLength:2,value:e.address_state,onChange:e=>{let s=[...M];s[a].address_state=e.target.value.toUpperCase(),k(s)}})]})]})]})]},a))})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx(l.z,{variant:"outline",onClick:()=>C("/members"),className:"flex-1",children:"Cancelar"}),S&&t.jsx(l.z,{variant:"destructive",onClick:()=>N(!0),className:"flex-1",children:"Excluir Conta"}),(0,t.jsxs)(l.z,{onClick:B,disabled:s,className:"flex-1",children:[s&&t.jsx(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Altera\xe7\xf5es"]})]}),t.jsx(j.aR,{open:_,onOpenChange:N,children:(0,t.jsxs)(j._T,{children:[(0,t.jsxs)(j.fY,{children:[t.jsx(j.f$,{children:"Confirmar Exclus\xe3o"}),t.jsx(j.yT,{children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita. A conta do membro ser\xe1 permanentemente exclu\xedda."})]}),(0,t.jsxs)(j.xo,{children:[t.jsx(j.le,{children:"Cancelar"}),t.jsx(j.OL,{onClick:q,children:"Confirmar Exclus\xe3o"})]})]})}),t.jsx(j.aR,{open:b,onOpenChange:y,children:(0,t.jsxs)(j._T,{children:[(0,t.jsxs)(j.fY,{children:[t.jsx(j.f$,{children:"Alterar Senha"}),t.jsx(j.yT,{children:"Temporariamente, ambos os bot\xf5es ir\xe3o gerar uma senha autom\xe1tica de 6 d\xedgitos. A funcionalidade de senha personalizada ser\xe1 habilitada em breve."})]}),t.jsx("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(d._,{htmlFor:"password",children:"Nova Senha"}),t.jsx(o.I,{id:"password",type:"password",value:O,onChange:e=>E(e.target.value),placeholder:"Digite a nova senha (m\xednimo 6 caracteres)"})]})}),(0,t.jsxs)(j.xo,{className:"gap-2",children:[t.jsx(j.le,{children:"Cancelar"}),t.jsx(l.z,{variant:"outline",onClick:V,children:"Resetar (Gerar Autom\xe1tica)"}),t.jsx(j.OL,{onClick:Z,children:"Salvar Senha"})]})]})})]})})}[i,o,d,l,c,j,g,f]=_.then?(await _)():_,r()}catch(e){r(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},2131:e=>{e.exports=import("@radix-ui/react-alert-dialog")},49:e=>{e.exports=import("@radix-ui/react-label")},3567:e=>{e.exports=import("@radix-ui/react-select")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},8097:e=>{e.exports=import("tailwind-merge")}};var a=require("../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[682,988],()=>s(2048));module.exports=r})();