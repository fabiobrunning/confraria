"use strict";(()=>{var e={};e.id=32,e.ids=[32,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},4317:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>f,getServerSideProps:()=>h,getStaticPaths:()=>x,getStaticProps:()=>p,reportWebVitals:()=>v,routeModule:()=>_,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>y});var s=a(7093),n=a(5244),o=a(1323),i=a(1682),l=a.n(i),d=a(8141),c=a.n(d),u=a(7299),m=e([u]);u=(m.then?(await m)():m)[0];let f=(0,o.l)(u,"default"),p=(0,o.l)(u,"getStaticProps"),x=(0,o.l)(u,"getStaticPaths"),h=(0,o.l)(u,"getServerSideProps"),g=(0,o.l)(u,"config"),v=(0,o.l)(u,"reportWebVitals"),y=(0,o.l)(u,"unstable_getStaticProps"),b=(0,o.l)(u,"unstable_getStaticPaths"),N=(0,o.l)(u,"unstable_getStaticParams"),j=(0,o.l)(u,"unstable_getServerProps"),w=(0,o.l)(u,"unstable_getServerSideProps"),_=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/Companies",pathname:"/Companies",bundlePath:"",filename:""},components:{App:c(),Document:l()},userland:u});r()}catch(e){r(e)}})},6964:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{OL:()=>v,_T:()=>f,aR:()=>c,f$:()=>h,fY:()=>p,le:()=>y,xo:()=>x,yT:()=>g});var s=a(997),n=a(6689),o=a(2131),i=a(1073),l=a(569),d=e([o,i,l]);[o,i,l]=d.then?(await d)():d;let c=o.Root;o.Trigger;let u=o.Portal,m=n.forwardRef(({className:e,...t},a)=>s.jsx(o.Overlay,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));m.displayName=o.Overlay.displayName;let f=n.forwardRef(({className:e,...t},a)=>(0,s.jsxs)(u,{children:[s.jsx(m,{}),s.jsx(o.Content,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));f.displayName=o.Content.displayName;let p=({className:e,...t})=>s.jsx("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});p.displayName="AlertDialogHeader";let x=({className:e,...t})=>s.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});x.displayName="AlertDialogFooter";let h=n.forwardRef(({className:e,...t},a)=>s.jsx(o.Title,{ref:a,className:(0,i.cn)("text-lg font-semibold",e),...t}));h.displayName=o.Title.displayName;let g=n.forwardRef(({className:e,...t},a)=>s.jsx(o.Description,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=o.Description.displayName;let v=n.forwardRef(({className:e,...t},a)=>s.jsx(o.Action,{ref:a,className:(0,i.cn)((0,l.d)(),e),...t}));v.displayName=o.Action.displayName;let y=n.forwardRef(({className:e,...t},a)=>s.jsx(o.Cancel,{ref:a,className:(0,i.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));y.displayName=o.Cancel.displayName,r()}catch(e){r(e)}})},569:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{d:()=>c,z:()=>u});var s=a(997),n=a(6689),o=a(4338),i=a(6926),l=a(1073),d=e([o,i,l]);[o,i,l]=d.then?(await d)():d;let c=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...n},i)=>{let d=r?o.Slot:"button";return s.jsx(d,{className:(0,l.cn)(c({variant:t,size:a,className:e})),ref:i,...n})});u.displayName="Button",r()}catch(e){r(e)}})},1612:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{Ol:()=>d,SZ:()=>u,Zb:()=>l,aY:()=>m,ll:()=>c});var s=a(997),n=a(6689),o=a(1073),i=e([o]);o=(i.then?(await i)():i)[0];let l=n.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let d=n.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let c=n.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let u=n.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));u.displayName="CardDescription";let m=n.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("p-6 pt-0",e),...t}));m.displayName="CardContent",n.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",r()}catch(e){r(e)}})},9322:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{I:()=>l});var s=a(997),n=a(6689),o=a(1073),i=e([o]);o=(i.then?(await i)():i)[0];let l=n.forwardRef(({className:e,type:t,...a},r)=>s.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));l.displayName="Input",r()}catch(e){r(e)}})},6516:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(6689);(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}();var s=a(2697);function n(e=!1,t=!1){let[a,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!0);Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())();let{toast:l}=(0,s.pm)();return{isAdmin:a,loading:o}}},2697:(e,t,a)=>{a.d(t,{pm:()=>m});var r=a(6689);let s=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=i(d,e),l.forEach(e=>{e(d)})}function u({...e}){let t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},1073:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{cn:()=>i});var s=a(6593),n=a(8097),o=e([s,n]);function i(...e){return(0,n.twMerge)((0,s.clsx)(e))}[s,n]=o.then?(await o)():o,r()}catch(e){r(e)}})},3592:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(6689);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:d,...c},u)=>(0,r.createElement)("svg",{ref:u,...o,width:t,height:t,stroke:e,strokeWidth:s?24*Number(a)/Number(t):a,className:n("lucide",i),...c},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let a=(0,r.forwardRef)(({className:a,...o},l)=>(0,r.createElement)(i,{ref:l,iconNode:t,className:n(`lucide-${s(e)}`,a),...o}));return a.displayName=`${e}`,a}},7062:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},6919:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4021:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},3487:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1560:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8141:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=a(167),s=a(997),n=r._(a(6689)),o=a(5782);async function i(e){let{Component:t,ctx:a}=e;return{pageProps:await (0,o.loadGetInitialProps)(t,a)}}class l extends n.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,s.jsx)(e,{...t})}}l.origGetInitialProps=i,l.getInitialProps=i,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7299:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>v});var s=a(997),n=a(6689);(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}();var o=a(1612),i=a(9322),l=a(3487),d=a(1560),c=a(4021),u=a(7062),m=a(6919),f=a(569),p=a(6516),x=a(2697),h=a(6964),g=e([o,i,f,h]);function v(){let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)([]),[g,v]=(0,n.useState)(""),[y,b]=(0,n.useState)(!0),[N,j]=(0,n.useState)(null),{isAdmin:w}=(0,p.A)(),{toast:_}=(0,x.pm)(),O=async()=>{b(!0);let{data:e,error:a}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").select("*").order("name");!a&&e&&(t(e),r(e)),b(!1)},S=e=>{let t=e.replace(/\D/g,"");return`https://wa.me/55${t}`},P=async()=>{if(N)try{let{error:e}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").delete().eq("id",N);if(e)throw e;_({title:"Empresa exclu\xedda",description:"A empresa foi removida com sucesso"}),await O()}catch(e){_({title:"Erro ao excluir",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{j(null)}};return s.jsx(Object(function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,s.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Empresas"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Lista de todas as empresas cadastradas"})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(l.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(i.I,{placeholder:"Buscar por nome, CNPJ ou descri\xe7\xe3o...",value:g,onChange:e=>v(e.target.value),className:"pl-10"})]}),y?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:a.map(e=>(0,s.jsxs)(o.Zb,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(o.Ol,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx(o.ll,{className:"text-lg",children:e.name}),e.cnpj&&(0,s.jsxs)(o.SZ,{children:["CNPJ: ",e.cnpj]})]}),w&&s.jsx(f.z,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),j(e.id)},className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(d.Z,{className:"h-4 w-4"})})]})}),(0,s.jsxs)(o.aY,{className:"space-y-3",children:[e.description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"space-y-2",children:[e.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(S(e.phone),"_blank","noopener,noreferrer")},className:"text-sm hover:text-accent hover:underline transition-colors text-left cursor-pointer",children:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.phone)})]}),e.instagram&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation();let a=e.instagram.replace(/[@\s]/g,"");window.open(`https://www.instagram.com/${a}`,"_blank","noopener,noreferrer")},className:"text-sm hover:text-accent hover:underline transition-colors text-left cursor-pointer",children:e.instagram})]}),(e.address_city||e.address_state)&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(m.Z,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.address_city,e.address_city&&e.address_state&&" - ",e.address_state]})]})]})]})]},e.id))}),!y&&0===a.length&&s.jsx(o.Zb,{children:s.jsx(o.aY,{className:"py-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Nenhuma empresa encontrada"})})}),s.jsx(h.aR,{open:null!==N,onOpenChange:e=>!e&&j(null),children:(0,s.jsxs)(h._T,{children:[(0,s.jsxs)(h.fY,{children:[s.jsx(h.f$,{children:"Confirmar Exclus\xe3o"}),s.jsx(h.yT,{children:"Tem certeza que deseja excluir esta empresa? Esta a\xe7\xe3o n\xe3o pode ser desfeita. Os v\xednculos desta empresa com membros tamb\xe9m ser\xe3o removidos."})]}),(0,s.jsxs)(h.xo,{children:[s.jsx(h.le,{children:"Cancelar"}),s.jsx(h.OL,{onClick:P,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmar Exclus\xe3o"})]})]})})]})})}[o,i,f,h]=g.then?(await g)():g,r()}catch(e){r(e)}})},5244:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},2131:e=>{e.exports=import("@radix-ui/react-alert-dialog")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},8097:e=>{e.exports=import("tailwind-merge")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[682],()=>a(4317));module.exports=r})();