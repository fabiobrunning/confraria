"use strict";(()=>{var e={};e.id=929,e.ids=[929,660],e.modules={1323:(e,a)=>{Object.defineProperty(a,"l",{enumerable:!0,get:function(){return function e(a,s){return s in a?a[s]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,s)):"function"==typeof a&&"default"===s?a:void 0}}})},4313:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.r(a),s.d(a,{config:()=>g,default:()=>p,getServerSideProps:()=>x,getStaticPaths:()=>f,getStaticProps:()=>h,reportWebVitals:()=>v,routeModule:()=>O,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>_});var r=s(7093),n=s(5244),o=s(1323),d=s(1682),i=s.n(d),l=s(8141),c=s.n(l),m=s(3007),u=e([m]);m=(u.then?(await u)():u)[0];let p=(0,o.l)(m,"default"),h=(0,o.l)(m,"getStaticProps"),f=(0,o.l)(m,"getStaticPaths"),x=(0,o.l)(m,"getServerSideProps"),g=(0,o.l)(m,"config"),v=(0,o.l)(m,"reportWebVitals"),_=(0,o.l)(m,"unstable_getStaticProps"),j=(0,o.l)(m,"unstable_getStaticPaths"),y=(0,o.l)(m,"unstable_getStaticParams"),b=(0,o.l)(m,"unstable_getServerProps"),N=(0,o.l)(m,"unstable_getServerSideProps"),O=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/Profile",pathname:"/Profile",bundlePath:"",filename:""},components:{App:c(),Document:i()},userland:m});t()}catch(e){t(e)}})},6964:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{OL:()=>v,_T:()=>p,aR:()=>c,f$:()=>x,fY:()=>h,le:()=>_,xo:()=>f,yT:()=>g});var r=s(997),n=s(6689),o=s(2131),d=s(1073),i=s(569),l=e([o,d,i]);[o,d,i]=l.then?(await l)():l;let c=o.Root;o.Trigger;let m=o.Portal,u=n.forwardRef(({className:e,...a},s)=>r.jsx(o.Overlay,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));u.displayName=o.Overlay.displayName;let p=n.forwardRef(({className:e,...a},s)=>(0,r.jsxs)(m,{children:[r.jsx(u,{}),r.jsx(o.Content,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));p.displayName=o.Content.displayName;let h=({className:e,...a})=>r.jsx("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});h.displayName="AlertDialogHeader";let f=({className:e,...a})=>r.jsx("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});f.displayName="AlertDialogFooter";let x=n.forwardRef(({className:e,...a},s)=>r.jsx(o.Title,{ref:s,className:(0,d.cn)("text-lg font-semibold",e),...a}));x.displayName=o.Title.displayName;let g=n.forwardRef(({className:e,...a},s)=>r.jsx(o.Description,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...a}));g.displayName=o.Description.displayName;let v=n.forwardRef(({className:e,...a},s)=>r.jsx(o.Action,{ref:s,className:(0,d.cn)((0,i.d)(),e),...a}));v.displayName=o.Action.displayName;let _=n.forwardRef(({className:e,...a},s)=>r.jsx(o.Cancel,{ref:s,className:(0,d.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));_.displayName=o.Cancel.displayName,t()}catch(e){t(e)}})},7981:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{C:()=>i});var r=s(997);s(6689);var n=s(6926),o=s(1073),d=e([n,o]);[n,o]=d.then?(await d)():d;let l=(0,n.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...s}){return r.jsx("div",{className:(0,o.cn)(l({variant:a}),e),...s})}t()}catch(e){t(e)}})},569:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{d:()=>c,z:()=>m});var r=s(997),n=s(6689),o=s(4338),d=s(6926),i=s(1073),l=e([o,d,i]);[o,d,i]=l.then?(await l)():l;let c=(0,d.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=n.forwardRef(({className:e,variant:a,size:s,asChild:t=!1,...n},d)=>{let l=t?o.Slot:"button";return r.jsx(l,{className:(0,i.cn)(c({variant:a,size:s,className:e})),ref:d,...n})});m.displayName="Button",t()}catch(e){t(e)}})},1612:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Ol:()=>l,SZ:()=>m,Zb:()=>i,aY:()=>u,ll:()=>c});var r=s(997),n=s(6689),o=s(1073),d=e([o]);o=(d.then?(await d)():d)[0];let i=n.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let l=n.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let c=n.forwardRef(({className:e,...a},s)=>r.jsx("h3",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle";let m=n.forwardRef(({className:e,...a},s)=>r.jsx("p",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...a}));m.displayName="CardDescription";let u=n.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("p-6 pt-0",e),...a}));u.displayName="CardContent",n.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",t()}catch(e){t(e)}})},9322:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{I:()=>i});var r=s(997),n=s(6689),o=s(1073),d=e([o]);o=(d.then?(await d)():d)[0];let i=n.forwardRef(({className:e,type:a,...s},t)=>r.jsx("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));i.displayName="Input",t()}catch(e){t(e)}})},6889:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{_:()=>m});var r=s(997),n=s(6689),o=s(49),d=s(6926),i=s(1073),l=e([o,d,i]);[o,d,i]=l.then?(await l)():l;let c=(0,d.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=n.forwardRef(({className:e,...a},s)=>r.jsx(o.Root,{ref:s,className:(0,i.cn)(c(),e),...a}));m.displayName=o.Root.displayName,t()}catch(e){t(e)}})},788:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{g:()=>i});var r=s(997),n=s(6689),o=s(1073),d=e([o]);o=(d.then?(await d)():d)[0];let i=n.forwardRef(({className:e,...a},s)=>r.jsx("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));i.displayName="Textarea",t()}catch(e){t(e)}})},2697:(e,a,s)=>{s.d(a,{pm:()=>u});var t=s(6689);let r=0,n=new Map,o=e=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)},d=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},i=[],l={toasts:[]};function c(e){l=d(l,e),i.forEach(e=>{e(l)})}function m({...e}){let a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,a]=t.useState(l);return t.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},1073:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{cn:()=>d});var r=s(6593),n=s(8097),o=e([r,n]);function d(...e){return(0,n.twMerge)((0,r.clsx)(e))}[r,n]=o.then?(await o)():o,t()}catch(e){t(e)}})},3592:(e,a,s)=>{s.d(a,{Z:()=>i});var t=s(6689);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim();var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:d="",children:i,iconNode:l,...c},m)=>(0,t.createElement)("svg",{ref:m,...o,width:a,height:a,stroke:e,strokeWidth:r?24*Number(s)/Number(a):s,className:n("lucide",d),...c},[...l.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(i)?i:[i]])),i=(e,a)=>{let s=(0,t.forwardRef)(({className:s,...o},i)=>(0,t.createElement)(d,{ref:i,iconNode:a,className:n(`lucide-${r(e)}`,s),...o}));return s.displayName=`${e}`,s}},1928:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},6460:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3487:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1560:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(3592).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8141:(e,a,s)=>{Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return i}});let t=s(167),r=s(997),n=t._(s(6689)),o=s(5782);async function d(e){let{Component:a,ctx:s}=e;return{pageProps:await (0,o.loadGetInitialProps)(a,s)}}class i extends n.default.Component{render(){let{Component:e,pageProps:a}=this.props;return(0,r.jsx)(e,{...a})}}i.origGetInitialProps=d,i.getInitialProps=d,("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},3007:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.r(a),s.d(a,{default:()=>_});var r=s(997),n=s(6689);(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}();var o=s(1612),d=s(9322),i=s(6889),l=s(569),c=s(788),m=s(2697),u=s(3487),p=s(6460),h=s(1560),f=s(1928);(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}();var x=s(6964),g=s(7981),v=e([o,d,i,l,c,x,g]);function _(){let[e,a]=(0,n.useState)(!0),[s,t]=(0,n.useState)(!1),[v,_]=(0,n.useState)(!1),[j,y]=(0,n.useState)(!1),[b,N]=(0,n.useState)(""),[O,w]=(0,n.useState)(""),[E,C]=(0,n.useState)(!1),S=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())(),{toast:D}=(0,m.pm)(),[T,P]=(0,n.useState)({full_name:"",phone:"",instagram:"",address_cep:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:""}),[U,A]=(0,n.useState)([]),k=async()=>{a(!0);try{let{data:{session:e}}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession();if(!e){S("/auth");return}w(e.user.id);let{data:a,error:s}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("profiles").select("*").eq("id",e.user.id).maybeSingle();s?(Object(function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}())(s,"Profile - loadProfile"),D({title:"Erro ao carregar perfil",description:s.message,variant:"destructive"})):a?(P(a),C(a.pre_registered||!1)):D({title:"Perfil n\xe3o encontrado",description:"N\xe3o foi poss\xedvel carregar o perfil do usu\xe1rio",variant:"destructive"});let{data:t}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("member_companies").select("company_id").eq("member_id",e.user.id);if(t&&t.length>0){let e=t.map(e=>e.company_id),{data:a}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").select("*").in("id",e);a&&A(a)}}catch(e){Object(function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}())(e,"Profile - loadProfile general"),D({title:"Erro",description:"N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es do perfil",variant:"destructive"})}finally{a(!1)}},M=async(e,a,s)=>{try{let t=await Object(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e}())(e);if(a&&void 0!==s){let e=[...U];e[s]={...e[s],address_street:t.street,address_neighborhood:t.neighborhood,address_city:t.city,address_state:t.state},A(e)}else P({...T,address_street:t.street,address_neighborhood:t.neighborhood,address_city:t.city,address_state:t.state});D({title:"Endere\xe7o encontrado",description:"Os campos foram preenchidos automaticamente"})}catch(a){let e=a instanceof Error?a.message:"Erro ao buscar CEP";D({title:"Erro ao buscar CEP",description:e,variant:"destructive"})}},I=async(e,a)=>{try{let s=await Object(function(){var e=Error("Cannot find module '@/utils/apis'");throw e.code="MODULE_NOT_FOUND",e}())(e),t=[...U];t[a]={...t[a],name:s.name,address_cep:s.cep.replace(/\D/g,""),address_street:s.street,address_number:s.number,address_complement:s.complement,address_neighborhood:s.neighborhood,address_city:s.city,address_state:s.state},A(t),D({title:"Dados encontrados",description:"Os campos foram preenchidos automaticamente"})}catch(a){let e=a instanceof Error?a.message:"Erro desconhecido ao buscar CNPJ";D({title:"Erro ao buscar CNPJ",description:e,variant:"destructive"})}},L=async()=>{let e=[];if(T.full_name.trim()||e.push("Nome Completo"),T.address_street&&T.address_number&&T.address_neighborhood&&T.address_city&&T.address_state||e.push("Endere\xe7o completo (rua, n\xfamero, bairro, cidade e estado)"),0!==U.length&&U.some(e=>e.name.trim())||e.push("Pelo menos uma empresa com nome"),e.length>0){D({title:"Campos obrigat\xf3rios faltando",description:`Por favor, preencha: ${e.join(", ")}`,variant:"destructive"});return}t(!0);try{let e={...T,pre_registered:!1},{error:a}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("profiles").update(e).eq("id",O);if(a)throw a;for(let e of U)if(e.name.trim()){if(e.id){let{error:a}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").update({name:e.name,cnpj:e.cnpj,description:e.description,phone:e.phone,instagram:e.instagram,address_cep:e.address_cep,address_street:e.address_street,address_number:e.address_number,address_complement:e.address_complement,address_neighborhood:e.address_neighborhood,address_city:e.address_city,address_state:e.address_state}).eq("id",e.id);if(a)throw a}else{let{data:a,error:s}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").insert({name:e.name,cnpj:e.cnpj,description:e.description,phone:e.phone,instagram:e.instagram,address_cep:e.address_cep,address_street:e.address_street,address_number:e.address_number,address_complement:e.address_complement,address_neighborhood:e.address_neighborhood,address_city:e.address_city,address_state:e.address_state}).select().single();if(s)throw s;if(a){let{error:e}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("member_companies").insert({member_id:O,company_id:a.id});if(e)throw e}}}C(!1),D({title:"Perfil atualizado",description:"Suas informa\xe7\xf5es foram salvas com sucesso. Seu cadastro est\xe1 completo!"}),k()}catch(a){let e=a instanceof Error?a.message:"Erro desconhecido ao salvar";D({title:"Erro ao salvar",description:e,variant:"destructive"})}finally{t(!1)}},F=async()=>{try{let{data:e,error:a}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).functions.invoke("delete-user",{body:{userId:O}});if(a)throw a;if(!e.success)throw Error(e.error);await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).auth.signOut(),D({title:"Conta exclu\xedda",description:"Sua conta foi exclu\xedda com sucesso"}),S("/auth")}catch(a){let e=a instanceof Error?a.message:"Erro desconhecido ao excluir conta";D({title:"Erro ao excluir conta",description:e,variant:"destructive"})}},R=async()=>{if(!b||b.length<6){D({title:"Senha inv\xe1lida",description:"A senha deve ter no m\xednimo 6 caracteres",variant:"destructive"});return}t(!0);try{let{data:{session:e}}=await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession();if(!e){D({title:"Sess\xe3o expirada",description:"Por favor, fa\xe7a login novamente",variant:"destructive"}),S("/auth");return}let a=(void 0).VITE_BOLT_DATABASE_URL||(void 0).VITE_SUPABASE_URL,s=(void 0).VITE_BOLT_DATABASE_ANON_KEY||(void 0).VITE_SUPABASE_ANON_KEY,t=await fetch(`${a}/functions/v1/update-own-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`,apikey:s},body:JSON.stringify({newPassword:b})}),r=await t.json();if(!t.ok||r.error)throw Error(r.error||"Erro ao alterar senha");D({title:"Senha alterada com sucesso",description:"Sua nova senha j\xe1 est\xe1 ativa"}),y(!1),N("")}catch(a){Object(function(){var e=Error("Cannot find module '@/utils/logger'");throw e.code="MODULE_NOT_FOUND",e}())(a,"Profile - handlePasswordChange");let e="Ocorreu um erro ao alterar a senha";a instanceof Error&&(a.message?.includes("JWT")?e="Sess\xe3o inv\xe1lida. Por favor, fa\xe7a login novamente":a.message?.includes("network")?e="Erro de conex\xe3o. Verifique sua internet":a.message&&(e=a.message)),D({title:"Erro ao alterar senha",description:e,variant:"destructive"})}finally{t(!1)}},z=()=>{A([...U,{name:"",cnpj:"",description:"",phone:"",instagram:"",address_cep:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:""}])},Z=async e=>{let a=U[e];a.id&&await Object(function(){var e=Error("Cannot find module '@/integrations/supabase/client'");throw e.code="MODULE_NOT_FOUND",e}()).from("companies").delete().eq("id",a.id),A(U.filter((a,s)=>s!==e))};return e?r.jsx(Object(function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:r.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):r.jsx(Object(function(){var e=Error("Cannot find module '@/components/Layout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Meu Perfil"}),r.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Gerencie suas informa\xe7\xf5es pessoais e empresas"})]}),E&&r.jsx(o.Zb,{className:"border-yellow-500 bg-yellow-50",children:r.jsx(o.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(g.C,{variant:"outline",className:"bg-yellow-500 text-white border-yellow-500",children:"Cadastro Incompleto"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Complete seu cadastro para acessar todos os recursos"}),r.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Preencha seu nome completo, endere\xe7o e cadastre pelo menos uma empresa"})]})]})})}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:r.jsx(o.ll,{children:"Informa\xe7\xf5es Pessoais"})}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{htmlFor:"full_name",children:"Nome Completo *"}),r.jsx(d.I,{id:"full_name",value:T.full_name,onChange:e=>P({...T,full_name:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{htmlFor:"phone",children:"Telefone *"}),r.jsx(d.I,{id:"phone",type:"tel",placeholder:"(00) 00000-0000",value:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(T.phone),onChange:e=>P({...T,phone:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.target.value)}),maxLength:15})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{htmlFor:"instagram",children:"Instagram"}),r.jsx(d.I,{id:"instagram",placeholder:"@seuusuario",value:T.instagram||"",onChange:e=>P({...T,instagram:e.target.value})})]}),r.jsx("div",{className:"pt-4 border-t mt-4",children:r.jsx(l.z,{variant:"outline",onClick:()=>y(!0),className:"w-full sm:w-auto",children:"Alterar Senha"})})]})]}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:r.jsx(o.ll,{children:"Endere\xe7o"})}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{htmlFor:"address_cep",children:"CEP"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(d.I,{id:"address_cep",value:T.address_cep||"",onChange:e=>P({...T,address_cep:e.target.value})}),r.jsx(l.z,{type:"button",variant:"outline",size:"icon",onClick:()=>M(T.address_cep,!1),children:r.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[r.jsx(i._,{htmlFor:"address_street",children:"Rua"}),r.jsx(d.I,{id:"address_street",value:T.address_street||"",onChange:e=>P({...T,address_street:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{htmlFor:"address_number",children:"N\xfamero"}),r.jsx(d.I,{id:"address_number",value:T.address_number||"",onChange:e=>P({...T,address_number:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[r.jsx(i._,{htmlFor:"address_complement",children:"Complemento"}),r.jsx(d.I,{id:"address_complement",value:T.address_complement||"",onChange:e=>P({...T,address_complement:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{htmlFor:"address_neighborhood",children:"Bairro"}),r.jsx(d.I,{id:"address_neighborhood",value:T.address_neighborhood||"",onChange:e=>P({...T,address_neighborhood:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{htmlFor:"address_city",children:"Cidade"}),r.jsx(d.I,{id:"address_city",value:T.address_city||"",onChange:e=>P({...T,address_city:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{htmlFor:"address_state",children:"Estado"}),r.jsx(d.I,{id:"address_state",value:T.address_state||"",onChange:e=>P({...T,address_state:e.target.value}),maxLength:2})]})]})]})]}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx(o.ll,{children:"Empresas"}),r.jsx(o.SZ,{children:"Gerencie suas empresas"})]}),(0,r.jsxs)(l.z,{onClick:z,size:"sm",className:"w-full sm:w-auto",children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Adicionar Empresa"]})]})}),(0,r.jsxs)(o.aY,{className:"space-y-6",children:[U.map((e,a)=>(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h3",{className:"font-semibold",children:["Empresa ",a+1]}),r.jsx(l.z,{variant:"destructive",size:"icon",onClick:()=>Z(a),children:r.jsx(h.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"CNPJ"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(d.I,{value:e.cnpj,onChange:e=>{let s=[...U];s[a].cnpj=e.target.value,A(s)}}),r.jsx(l.z,{type:"button",variant:"outline",size:"icon",onClick:()=>I(e.cnpj,a),children:r.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"Nome da Empresa *"}),r.jsx(d.I,{value:e.name,onChange:e=>{let s=[...U];s[a].name=e.target.value,A(s)}})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"Descri\xe7\xe3o"}),r.jsx(c.g,{value:e.description,onChange:e=>{let s=[...U];s[a].description=e.target.value,A(s)}})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"Telefone"}),r.jsx(d.I,{type:"tel",placeholder:"(00) 00000-0000",value:Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.phone),onChange:e=>{let s=[...U];s[a].phone=Object(function(){var e=Error("Cannot find module '@/utils/phone'");throw e.code="MODULE_NOT_FOUND",e}())(e.target.value),A(s)},maxLength:15})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"Instagram"}),r.jsx(d.I,{placeholder:"@empresa",value:e.instagram,onChange:e=>{let s=[...U];s[a].instagram=e.target.value,A(s)}})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"CEP"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(d.I,{value:e.address_cep,onChange:e=>{let s=[...U];s[a].address_cep=e.target.value,A(s)}}),r.jsx(l.z,{type:"button",variant:"outline",size:"icon",onClick:()=>M(e.address_cep,!0,a),children:r.jsx(u.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[r.jsx(i._,{children:"Rua"}),r.jsx(d.I,{value:e.address_street,onChange:e=>{let s=[...U];s[a].address_street=e.target.value,A(s)}})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"N\xfamero"}),r.jsx(d.I,{value:e.address_number,onChange:e=>{let s=[...U];s[a].address_number=e.target.value,A(s)}})]}),(0,r.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[r.jsx(i._,{children:"Complemento"}),r.jsx(d.I,{value:e.address_complement,onChange:e=>{let s=[...U];s[a].address_complement=e.target.value,A(s)}})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"Bairro"}),r.jsx(d.I,{value:e.address_neighborhood,onChange:e=>{let s=[...U];s[a].address_neighborhood=e.target.value,A(s)}})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"Cidade"}),r.jsx(d.I,{value:e.address_city,onChange:e=>{let s=[...U];s[a].address_city=e.target.value,A(s)}})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(i._,{children:"Estado"}),r.jsx(d.I,{value:e.address_state,onChange:e=>{let s=[...U];s[a].address_state=e.target.value,A(s)},maxLength:2})]})]})]},a)),0===U.length&&(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx("p",{children:"Nenhuma empresa cadastrada"}),(0,r.jsxs)(l.z,{onClick:z,className:"mt-4",variant:"outline",children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Adicionar Primeira Empresa"]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)(l.z,{onClick:L,disabled:s,className:"w-full",children:[s&&r.jsx(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Altera\xe7\xf5es"]}),r.jsx(l.z,{variant:"destructive",onClick:()=>_(!0),className:"w-full",children:"Excluir Conta"})]}),r.jsx(x.aR,{open:v,onOpenChange:_,children:(0,r.jsxs)(x._T,{children:[(0,r.jsxs)(x.fY,{children:[r.jsx(x.f$,{children:"Tem certeza?"}),r.jsx(x.yT,{children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita. Sua conta e todos os dados associados ser\xe3o permanentemente exclu\xeddos."})]}),(0,r.jsxs)(x.xo,{children:[r.jsx(x.le,{children:"Cancelar"}),r.jsx(x.OL,{onClick:F,className:"bg-destructive",children:"Confirmar Exclus\xe3o"})]})]})}),r.jsx(x.aR,{open:j,onOpenChange:y,children:(0,r.jsxs)(x._T,{children:[(0,r.jsxs)(x.fY,{children:[r.jsx(x.f$,{children:"Alterar Senha"}),r.jsx(x.yT,{children:"Digite sua nova senha (m\xednimo 6 caracteres)"})]}),r.jsx("div",{className:"py-4",children:r.jsx(d.I,{type:"password",placeholder:"Nova senha",value:b,onChange:e=>N(e.target.value)})}),(0,r.jsxs)(x.xo,{children:[r.jsx(x.le,{onClick:()=>N(""),children:"Cancelar"}),r.jsx(x.OL,{onClick:R,disabled:s,children:s?"Alterando...":"Alterar Senha"})]})]})})]})})}[o,d,i,l,c,x,g]=v.then?(await v)():v,t()}catch(e){t(e)}})},5244:(e,a)=>{var s;Object.defineProperty(a,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},2131:e=>{e.exports=import("@radix-ui/react-alert-dialog")},49:e=>{e.exports=import("@radix-ui/react-label")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},8097:e=>{e.exports=import("tailwind-merge")}};var a=require("../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[682],()=>s(4313));module.exports=t})();